# BotRabota - Telegram-–±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ä–∞–±–æ—Ç—ã –≤ –†–æ—Å—Å–∏–∏ —Å –¥–≤—É–º—è —Ä–æ–ª—è–º–∏ (—Ä–∞–±–æ—Ç–Ω–∏–∫/—Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å), –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –ÆKassa, –≥–µ–æ—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–ª—è —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ (—Å–æ–∏—Å–∫–∞—Ç–µ–ª–µ–π)
- üìù –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—é–º–µ
- üîç –ü—Ä–æ—Å–º–æ—Ç—Ä –≤–∞–∫–∞–Ω—Å–∏–π –≤ —Ä–∞–¥–∏—É—Å–µ 50 –∫–º
- üìç –ì–µ–æ—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é
- ‚úÖ –û—Ç–∫–ª–∏–∫–∏ –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏–∏
- üí¨ –ü—Ä—è–º–æ–µ –æ–±—â–µ–Ω–∏–µ —Å —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è–º–∏
- üí≥ –ü–æ–¥–ø–∏—Å–∫–∞ –¥–ª—è –±–µ–∑–ª–∏–º–∏—Ç–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

### –î–ª—è —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ–π
- ‚ûï –°–æ–∑–¥–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π (2 –±–µ—Å–ø–ª–∞—Ç–Ω–æ –≤ –º–µ—Å—è—Ü)
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –∏ –æ—Ç–∫–ª–∏–∫–æ–≤
- üîù –ü–æ–¥–Ω—è—Ç–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π –≤ –Ω–∞—á–∞–ª–æ
- üìå –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π –Ω–∞ 1-7 –¥–Ω–µ–π
- ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- üìä –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞
- üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- üí∞ –†—É—á–Ω–∞—è –≤—ã–¥–∞—á–∞/–æ—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–æ–∫
- üì¢ –†–∞—Å—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- üìã –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.11**
- **aiogram 3.x** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram Bot API
- **PostgreSQL** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **SQLAlchemy 2.0** - ORM
- **–ÆKassa** - –ø–ª–∞—Ç–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repo-url>
cd BotRabota
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
python3.11 -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # Windows
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL

```bash
# Linux
sudo -u postgres createdb botrabota
sudo -u postgres createuser botuser -P
sudo -u postgres psql -c "GRANT ALL PRIVILEGES ON DATABASE botrabota TO botuser;"
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# Telegram Bot
BOT_TOKEN=your_bot_token_here

# PostgreSQL Database
DATABASE_URL=postgresql+asyncpg://botuser:password@localhost:5432/botrabota

# YooKassa Payment System
YOOKASSA_SHOP_ID=your_shop_id
YOOKASSA_SECRET_KEY=your_secret_key
PAYMENT_PROVIDER_TOKEN=your_provider_token

# Admin Settings
ADMIN_ID=411655143
SUPPORT_EMAIL=vnaum0134@gmail.com
```

### 6. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

#### Telegram Bot Token
1. –ù–∞–ø–∏—à–∏—Ç–µ @BotFather –≤ Telegram
2. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/newbot`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

#### –ÆKassa
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://yookassa.ru
2. –ü–æ–ª—É—á–∏—Ç–µ Shop ID –∏ Secret Key –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ
3. –í @BotFather –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `/mybots` -> Payments -> Connect YooKassa
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ PAYMENT_PROVIDER_TOKEN

## –ó–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–æ (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

```bash
python bot/main.py
```

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (–ø—Ä–æ–¥–∞–∫—à–µ–Ω)

#### –°–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `/etc/systemd/system/botrabota.service`:

```ini
[Unit]
Description=BotRabota Telegram Bot
After=network.target postgresql.service

[Service]
Type=simple
User=root
WorkingDirectory=/opt/BotRabota
Environment="PATH=/opt/BotRabota/venv/bin"
ExecStart=/opt/BotRabota/venv/bin/python bot/main.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

#### –ó–∞–ø—É—Å–∫

```bash
sudo systemctl daemon-reload
sudo systemctl enable botrabota
sudo systemctl start botrabota
```

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
journalctl -u botrabota -f
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
BotRabota/
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.py         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ handlers/         # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ start.py      # /start, –≤—ã–±–æ—Ä —Ä–æ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ worker.py     # –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–Ω–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ employer.py   # –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py      # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ payments.py   # –ü–ª–∞—Ç–µ–∂–∏
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/        # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ states/           # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ database/         # –ú–æ–¥–µ–ª–∏ –∏ CRUD
‚îÇ   ‚îú‚îÄ‚îÄ services/         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ middlewares/      # Middleware
‚îÇ   ‚îî‚îÄ‚îÄ utils/            # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ .env                  # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ oferta.txt            # –¢–µ–∫—Å—Ç –æ—Ñ–µ—Ä—Ç—ã
‚îî‚îÄ‚îÄ README.md
```

## –¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ

| –£—Å–ª—É–≥–∞ | –¶–µ–Ω–∞ |
|--------|------|
| –ü–æ–¥–ø–∏—Å–∫–∞ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ | 300 ‚ÇΩ/–º–µ—Å—è—Ü |
| –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤–∞–∫–∞–Ω—Å–∏–∏ | 100 ‚ÇΩ |
| –ü–æ–¥–Ω—è—Ç–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ | 200 ‚ÇΩ |
| –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ 1 –¥–µ–Ω—å | 100 ‚ÇΩ |
| –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ 3 –¥–Ω—è | 250 ‚ÇΩ |
| –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ 7 –¥–Ω–µ–π | 500 ‚ÇΩ |

## –õ–∏–º–∏—Ç—ã

- **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã:** 25 –≤–∞–∫–∞–Ω—Å–∏–π –≤ —Å—É—Ç–∫–∏
- **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏:** 2 –≤ –º–µ—Å—è—Ü
- **–°—Ä–æ–∫ –∂–∏–∑–Ω–∏ –≤–∞–∫–∞–Ω—Å–∏–∏:** 30 –¥–Ω–µ–π
- **–†–∞–¥–∏—É—Å –≥–µ–æ—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:** 50 –∫–º

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `/admin` - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- Email: vnaum0134@gmail.com
- Telegram Admin ID: 411655143

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ VPS —Å–µ—Ä–≤–µ—Ä

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É:
```bash
ssh root@your_server_ip
```

2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
```bash
cd /opt
# –°–∫–∞—á–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ SCP –∏–ª–∏ Git
git clone https://github.com/your-repo/BotRabota.git
cd BotRabota
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
```bash
chmod +x deploy.sh
sudo ./deploy.sh
```

4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env`:
```bash
nano /opt/BotRabota/.env
# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ BOT_TOKEN, DATABASE_URL, PAYMENT_PROVIDER_TOKEN –∏ —Ç.–¥.
```

5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
```bash
sudo systemctl start botrabota
```

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é

- **[DEPLOY.md](DEPLOY.md)** - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ VPS
- **[SERVER_COMMANDS.md](SERVER_COMMANDS.md)** - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–º–∞–Ω–¥ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º
- **[env.production.example](env.production.example)** - –ü—Ä–∏–º–µ—Ä .env –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### ‚öôÔ∏è –ü–æ–ª–µ–∑–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
./check_server.sh

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞ (—Å –±—ç–∫–∞–ø–æ–º –ë–î)
./update_bot.sh

# –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
./start_production.sh
```

### üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞
sudo systemctl status botrabota

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
journalctl -u botrabota -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
sudo systemctl restart botrabota

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞
sudo systemctl stop botrabota
```

### üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **PostgreSQL**. –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **SQLite**.

```bash
# –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
sudo -u postgres pg_dump botrabota > backup.sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
sudo -u postgres psql botrabota < backup.sql
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
